<div class="container-x w-100 d-flex justify-content-center">
    <div class="contenedor1 w-50 mt-5">
        <form style="border-radius: 15px;" class="shadow p-3 bg-body col-md-10" (ngSubmit)="onSave()" [formGroup]="productosForm">
            <h3 class="text-center">Edición</h3>
            <div class="form-group row">
                <label for="staticEmail" class="col-md-4 col-form-label">Nombre Plato</label>
                 <div class="col-sm-11"> 
                  <input type="text" class="form-control mt-1" formControlName="nombre" [class]="isValidField('nombre')">
                 </div>
              </div>
              <div class="form-group row">
                <label for="" class="col-md-4 col-form-label">Categoría</label>
                <div class="row">
                  <div class="col-sm-7"> 
                   <input type="text" class="form-control mt-1" name="categoria" disabled >
                  </div>
                  <div class="col-sm-4"> 
                    <select id="inputState" class="form-control mt-1" (change)="onSelect($event)" formControlName="categoria" [class]="isValidField('categoria')">
                      <option selected value="">Categoría...</option>
                      <option value="{{item.categoria}}" *ngFor="let item of categoriasList$ | async">{{item.categoria}}</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-group row">
                <label for="staticEmail" class="col-md-4 col-form-label">Precio</label>
                <div class="col-sm-11">
                <div class="input-group">
                  <span class="input-group-text">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-currency-dollar" viewBox="0 0 16 16">
                      <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z"/>
                    </svg>
                  </span>
                    <input type="number" class="form-control" formControlName="precio" [class]="isValidField('precio')">
                  </div>
                </div>
              </div>
              <div class="form-group row">
                <label for="staticEmail" class="col-md-4 col-form-label">Descripción</label>
                 <div class="col-sm-11">
                   <textarea class="form-control" rows="4" formControlName="descripcion" [class]="isValidField('descripcion')">{{productos.descripcion}}</textarea>
                  <!-- <input type="text" class="form-control mt-1" formControlName="descripcion" [class]="isValidField('descripcion')"> -->
                 </div>
              </div>

              <input type="text" id="state" hidden name="state" [value]="productos.state">

              <div class="form-group row">
                <label for="staticEmail" class="col-md-4 col-form-label">Imagen</label>
                 <div class="col-sm-11"> 
                  <input type="file" class="form-control mt-1" (change)="handleImage($event)">
                 </div>
              </div>
              <div class="d-grid gap-1 col-11">
                <!-- <button class="btn btn-dark mt-3" (click)="activateProcess('0')"><i class="bi bi-lightbulb-off"></i></button> -->
                <button *ngIf="productos.state == '1'" class="btn btn-primary mt-3" type="button" (click)="activateProcess('0')"><i class="bi bi-lightbulb"></i></button>
                <button *ngIf="productos.state == '0'" class="btn btn-danger mt-3" type="button" (click)="activateProcess('1')"><i class="bi bi-lightbulb-off"></i></button>
              </div>
              <!-- <input type="" formControlName="email"> -->
            <div class="d-grid gap-1 col-11">
                <button class="btn btn-success mt-1" type="submit">Listo!</button>
            </div>
        </form>
    </div>
    <div class="w-50 contenedor2 mt-5">
        <form style="border-radius: 15px;" class="shadow p-3 bg-body col-md-8">
          <h3 class="text-center text-success">Imagen Actual</h3>
            <img src="{{productos.img}}" width="100%" alt="" style="border-radius: 15px;">
        </form>

        <form style="border-radius: 15px;" class="shadow p-3 mt-2 bg-body col-md-8" *ngIf="new_img == 1">
          <h3 class="text-center text-success">Nueva Imagen</h3>
          <img [src]="imageSrc" width="100%" alt="" style="border-radius: 15px;">
        </form>
        
    </div>
</div>